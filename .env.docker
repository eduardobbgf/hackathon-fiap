
# .env.docker (VERSÃO CORRIGIDA PARA DOCKER)
# Configurações específicas para ambiente Docker

# ===== CONFIGURAÇÕES DE AMBIENTE =====
NODE_ENV=production
PORT=3001

# ===== CONFIGURAÇÕES DE LOGGING =====
# Desabilitar pino-pretty no Docker para evitar erros
DISABLE_PINO_PRETTY=true
LOG_LEVEL=info
LOG_FORMAT=json

# ===== CONFIGURAÇÕES DO BANCO DE DADOS POSTGRESQL =====
POSTGRES_DB=fiap_video_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Configurações de conexão do banco (para os serviços)
DB_HOST=database
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_NAME=fiap_video_db

# ===== CONFIGURAÇÕES DO RABBITMQ =====
# ✅ CORRIGIDO: usar nome do serviço Docker em vez de localhost
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672
RABBITMQ_DEFAULT_USER=guest
RABBITMQ_DEFAULT_PASS=guest
RABBIT_VIDEO_QUEUE=video_processing_queue

# ===== URLS DE SERVIÇOS =====
# ✅ CORRIGIDO: usar nomes dos serviços Docker em vez de localhost
USER_SERVICE_URL=http://user-service:4001/api

# ===== SEGREDOS DE JWT =====
# (devem ser os mesmos para ambos os serviços)
JWT_ACCESS_SECRET=ee1d949c31d30ff11676339d802c4b8752a19c17eda164b52e11ac194cbd6114
JWT_REFRESH_SECRET=meu-outro-segredo-forte-para-docker-refresh
JWT_ACCESS_EXPIRES_IN=150m
JWT_REFRESH_EXPIRES_IN=7d

# ===== TOKENS DE SERVIÇOS =====
INTERNAL_SERVICE_TOKEN=a4b8c1d6e9f2a7b3c5d8e1f0a6b7c8d9e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7

# ===== CONFIGURAÇÕES ESPECÍFICAS DO DOCKER =====
# Configurações de rede e conectividade
DOCKER_NETWORK=app-network

# Configurações de saúde e monitoramento
HEALTH_CHECK_TIMEOUT=30s
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_RETRIES=3

# ===== CONFIGURAÇÕES DE DESENVOLVIMENTO/DEBUG =====
# Manter desabilitado em produção Docker
DEBUG=false
VERBOSE_LOGGING=false

# ===== CONFIGURAÇÕES DE CORS =====
CORS_ORIGIN=*
CORS_CREDENTIALS=true

# ===== CONFIGURAÇÕES DE RATE LIMITING =====
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100

# ===== CONFIGURAÇÕES DE UPLOAD/STORAGE =====
MAX_FILE_SIZE=50MB
UPLOAD_DEST=/tmp/uploads

# ===== CONFIGURAÇÕES DE CACHE =====
CACHE_TTL=300
CACHE_MAX_ITEMS=1000

# ===== CONFIGURAÇÕES DE ELASTICSEARCH (se usado) =====
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200

# ===== CONFIGURAÇÕES DE KIBANA (se usado) =====
KIBANA_HOST=kibana
KIBANA_PORT=5601

# ===== CONFIGURAÇÕES DE MONITORAMENTO =====
METRICS_ENABLED=true
METRICS_PORT=9090

# ===== CONFIGURAÇÕES DE SEGURANÇA =====
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-here

# ===== CONFIGURAÇÕES DE EMAIL (se usado) =====
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ===== CONFIGURAÇÕES DE TIMEZONE =====
TZ=America/Sao_Paulo

# ===== CONFIGURAÇÕES DE GRACEFUL SHUTDOWN =====
SHUTDOWN_TIMEOUT=10000

# ===== CONFIGURAÇÕES DE WORKER/QUEUE =====
QUEUE_CONCURRENCY=5
QUEUE_RETRY_ATTEMPTS=3
QUEUE_RETRY_DELAY=5000
